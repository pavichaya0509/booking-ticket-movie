<div class="w-full h-full">
  <div class="relative w-full overflow-hidden">
    <!-- Slide Container -->
    <div class="flex transition-transform duration-500 ease-in-out"
      [style.transform]="'translateX(-' + currentSlide * 100 + '%)'"
      (touchstart)="onTouchStart($event)" 
      (touchend)="onTouchEnd($event)"
      (mousedown)="onMouseDown($event)" 
      (mouseup)="onMouseUp($event)">
      @for (movie of popularMovieList()?.results ?? []; track $index) {
        <div class="min-w-full">
          <div class="relative overflow-hidden shadow-lg h-[60vh] lg:h-[70vh]">
            <img [src]="movie.backdrop_path" [alt]="movie.title" class="w-full h-full object-cover" />
            <!-- Overlay Text -->
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent p-4 sm:p-10 flex flex-col justify-end text-white">
              <div class="flex flex-col justify-between h-1/3">
                <p class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl truncate">{{ movie.title }}</p>
                <div class="flex flex-row sm:flex-row gap-2 items-center">
                  <lucide-icon name="star" class="w-4 h-4 text-yellow-400 fill-yellow-400"></lucide-icon>
                  <span class="text-white text-sm">
                    {{ movie.vote_average | number: '1.1-1' }}
                  </span>
                </div>
                <p class="text-xs sm:text-sm md:text-base lg:text-lg sm:block movie-overview">{{ movie.overview }}</p>
                <p class="text-[10px] sm:text-xs">ฉาย: {{ movie.release_date | date }}</p>
                <div class="flex flex-row gap-4">
                  <button class="btn bg-red-600 hover:bg-red-700 h-8 border-0 rounded-md shadow-none">
                    <lucide-icon name="play" class="w-4 h-4 text-white"></lucide-icon>
                    Book Now
                  </button>
                  <button class="btn text-black bg-white hover:bg-gray-400 h-8 border-0 rounded-md shadow-none">
                    More Info
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      }
    </div>
    <!-- Navigation buttons -->
    <button (click)="prevSlide()"
      class="hover:bg-gray-200 absolute left-2 top-1/2 -translate-y-1/2 bg-white text-black rounded-full shadow p-2 w-10 h-10 flex items-center justify-center">
      <lucide-icon name="arrow-left" class="w-5 h-5 text-gray-500 hover:text-gray-500"></lucide-icon>
    </button>
    <button (click)="nextSlide()"
      class="hover:bg-gray-200 absolute right-2 top-1/2 -translate-y-1/2 bg-white text-black rounded-full shadow p-2 w-10 h-10 flex items-center justify-center">
      <lucide-icon name="arrow-right" class="w-5 h-5 text-gray-500 hover:text-gray-500"></lucide-icon>
    </button>
  </div>
</div>